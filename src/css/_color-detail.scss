$anim-duration: 1s;


@mixin gradient-overlay ($percent-expanded: 1, $overlay-anim-duration: $anim-duration * 1.8, $longer-side: horizontal, $gradient-radius-no-units: 400) {
	$overlay-anim-duration-short: $overlay-anim-duration * 0.66;
	$overlay-anim-duration-long: $overlay-anim-duration * 2;
	$gradient-radius: #{$gradient-radius-no-units}vw;

	@if $longer-side == vertical {
		$gradient-radius: #{$gradient-radius-no-units}vh;
	}

	left: calc(50% - (#{$gradient-radius} * #{$percent-expanded} / 2));
	height: $gradient-radius;
	//opacity: 0;
	//position: absolute;
	top: calc(50% - (#{$gradient-radius} * #{$percent-expanded} / 2));
	transition-property: opacity, height, width, top, left;
	transition-duration: $overlay-anim-duration-short, $overlay-anim-duration-long, $overlay-anim-duration-long, $overlay-anim-duration-long, $overlay-anim-duration-long;
	width: $gradient-radius;
}

color-detail,
.color-detail {
	display: block;
	height: 100%;
	left: 0;
	max-height: 100%;
	max-width: 100%;
	overflow: hidden;
	position: absolute;
	top: 0;
	width: 100%;
	z-index: 9;
	
	.room-scene__wrapper {
	}

	.room-scene__image {
		transition: opacity $anim-duration;
		transition-delay: calc(#{$anim-duration} / 2);
		&--foreground {
			transition: opacity $anim-duration;
			transition-delay: 0;
		}

	}

	.detail-copy {
		background: $color-white;
		bottom: 0;
		left: 0;
		position: absolute;

		&__close-cta {
			@extend .button;
		}

		&__add-to-faves-cta {
			@extend .button;
			background: #fff;
		}

		&__color-name {
			font-size: 4rem;
		}
	}

	.detail-copy__color-toggle {
		position: relative;
	}

	//.detail-copy__color-toggle-cta {
	.detail-copy__color-cta,
	.detail-copy__detail-cta {
		@extend .button;
		position: relative;
		transition: opacity $anim-duration;
		//transition-delay: 0s, $color-toggle-duration;
		z-index: 1;
	}

	.detail-copy__detail-cta {
		left: 0;
		opacity: 0;
		position: absolute;
		top: 0;
		z-index: -1;
	}

	.transition-overlay {
		//border: 2px solid red;
		border-radius: 50%;
		@include gradient-overlay;

		//left: calc(50% - (#{$gradient-radius-h-orientation} / 2));
		//height: 600vh;
		opacity: 0;
		position: absolute;
		//top: calc(50% - (#{$gradient-radius-h-orientation} / 2)); //calc(50% - 300vh);
		//transition-property: opacity, height, width, top, left;
		//transition-duration: $color-toggle-durations-short, $color-toggle-duration, $color-toggle-duration, $color-toggle-duration, $color-toggle-duration;
		//transition-duration: $color-toggle-duration-short, $color-toggle-duration-long, $color-toggle-duration-long, $color-toggle-duration-long, $color-toggle-duration-long; // height 1s, left 1s, top 1s, width 1s;
		//width: 600vh;
	}

	&--color-only-displayed {
		.room-scene__image {
			opacity: 0;
		}

		.detail-copy__color-cta {
			opacity: 0;
			z-index: -1;
		}

		.detail-copy__detail-cta {
			opacity: 1;
			z-index: 2;
		}

		&.remove {

		}

		.transition-overlay {
			display: block;
			//opacity: 1;
			//left: 50%;
			//height: 1px;
			//position: absolute;
			//top: 50%;
			//width: 1px;

			@include gradient-overlay ($percent-expanded: 0.5);



			//TO DO: implement this with setting at halfway point
			//@include gradient-overlay ($longer-side: vertical);
		}
	}

	@media screen and (min-aspect-ratio: 20/19) {
		.color-detail .transition-overlay {
			@include gradient-overlay ($longer-side: vertical);
			//height: 600vw;
			//left: calc(50% - (#{$gradient-radius-v-orientation} / 2)); //calc(50% - 300vw);
			//top: calc(50% - (#{$gradient-radius-v-orientation} / 2)); //calc(50% - 300vw);
			//width: 600vw;
		}
		//
		//.color-detail__color-only-displayed .transition-overlay {
		//	height: 1px;
		//	left: 50%;
		//	top: 50%;
		//	width: 1px;
		//}
	}

} //end .color-detail